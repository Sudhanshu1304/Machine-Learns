{% load static %}
<!doctype html>
<html lang="en">
  <head>
    <title>Title</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'css/encodersize.css' %}">
  </head>
  <body>
      
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


    <div class="container-fluid cont1">


        
        <div class="container cont2">

            <!-- Navbar -->
            <nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top">
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo03" aria-controls="navbarTogglerDemo03" aria-expanded="false" aria-label="Toggle navigation">
                  <span class="navbar-toggler-icon"></span>
                </button>
                <a class="navbar-brand" href="/"><strong>Machine Learns</strong> </a>
              
                <div class="collapse navbar-collapse" id="navbarTogglerDemo03">
                  <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
                    <li class="nav-item active">
                      <a class="nav-link" href="/encoder">Home <span class="sr-only">(current)</span></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">API</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="#">Blogs</a>
                      </li>
                  </ul>
                
                </div>
            </nav>
            <!-- Lower body Jumbo-->

            
            <div class="jumbotron jumbotron-fluid ">
                <div class="container">
                  <h1 class="display-4 "><strong>Image Compresion </strong> </h1>
                    <p class="lead"> <br>
                        This is ML Laboratory where you can play/vizvalize  the concepts.
                    
                    </p>
                </div>
            </div>
            
            <!-- Lower body Jumbo-->

            <div class="row">

                <div class="col-md-6">
                    
                    <div class="card cousalcard">
                        <div class="card-header">
                            Applications
                        </div>
                        <div class="card-body">
                           
                            <p class="card-text">
                                <div id="carouselId" class="carousel slide" data-ride="carousel">
                                    <ol class="carousel-indicators">
                                        <li data-target="#carouselId" data-slide-to="0" class="active"></li>
                                        <li data-target="#carouselId" data-slide-to="1"></li>
                                        <li data-target="#carouselId" data-slide-to="2"></li>
                                    </ol>
                                    <div class="carousel-inner" role="listbox">
                                        <div class="carousel-item active">
                                            <img src="{% static 'images/anco1.png' %}" height="200px" width="100%" alt="First slide">
                                            
                                            <div class="carousel-caption d-none d-md-block">
                                                <h3>Title</h3>
                                                <p>Description</p>
                                            </div>
                                        </div>
                                        <div class="carousel-item">
                                            <img src="{% static 'images/ebco.png' %}" height="200px" width="100%" alt="Second slide">
                                            <div class="carousel-caption d-none d-md-block">
                                                <h3>Title</h3>
                                                <p>Description</p>
                                            </div>
                                        </div>
                                        <div class="carousel-item">
                                            <img src="{% static 'images/enco2.jpg' %}" height="200px" width="100%" alt="Third slide">
                                            <div class="carousel-caption d-none d-md-block">
                                                <h3>Title</h3>
                                                <p>Description</p>
                                            </div>
                                        </div>
                                    </div>
                                    <a class="carousel-control-prev" href="#carouselId" role="button" data-slide="prev">
                                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                        <span class="sr-only">Previous</span>
                                    </a>
                                    <a class="carousel-control-next" href="#carouselId" role="button" data-slide="next">
                                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                        <span class="sr-only">Next</span>
                                    </a>
                                </div>
                            </p>
                        </div>
                       
                    </div>
                </div>
                <div class="col-md-6">
                    Lorem ipsum dolor, sit amet consectetur adipisicing elit. Iste culpa nesciunt error eligendi assumenda accusamus cupiditate, repellendus officia magnam totam impedit optio quae dignissimos commodi delectus incidunt ad vel nam?
                    <br>
                    Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deserunt voluptatum commodi reprehenderit fugit mollitia, dolor quaerat beatae? Perferendis, tempora maxime? Delectus iste sapiente tempore facilis nobis optio ducimus consequatur magni?
                </div>
            </div>

            <!-- Card View section-->
            <div class="container-fluid">
                
                <header>
                <h2 class="sect1"><strong>Results</strong></h2> 
            </header>
            <div class="row row1" >
               
                
                <div class="col-md-6">
                    
                    <div class="card">
                        <div class="card-header">
                            <ul class="nav nav-tabs" id="myTab" role="tablist">
                               
                                <li class="nav-item">
                                  <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home" aria-selected="true"><strong>DNN</strong></a>
                                </li>
                                <li class="nav-item">
                                  <a class="nav-link" id="profile-tab" data-toggle="tab" href="#profile" role="tab" aria-controls="profile" aria-selected="false"><strong>CNN</strong></a>
                                </li>
                                <li class="nav-item">
                                    <a  class="nav-link disabled">
                                        <strong>Model Selection</strong> 
                                    </a>
                                </li>
                              </ul>
                        </div>
                     
                        <div class="card-body">
                            <div class="tab-content" id="myTabContent">
                                <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">

                                    

                                        <div class="form-check" >
                                       
                                            <div class="row  list-group-item list-group-item-action list-group-item-light">
                                                <input class="form-check-input model" type="radio" name="exampleRadios" id="exampleRadios1" value="DNN_Num_ancoder_dense_0_epochs_3_neck_64_time_" checked>
                                                <label class="form-check-label model2" for="exampleRadios1">
                                                    Default Radio
                                                </label>
                                            </div>
                                            <div class="row  list-group-item list-group-item-action list-group-item-light">
                                                <input class="form-check-input model" type="radio" name="exampleRadios" id="exampleRadios2" value="DNN_Num_ancoder_dense_0_epochs_3_neck_2_time_">
                                                <label class="form-check-label model2" for="exampleRadios2">
                                                    Default Radio 2
                                                </label>
                                            </div>
                                            
                                            <div class="row  list-group-item list-group-item-action list-group-item-light">
                                                <input class="form-check-input model " type="radio" name="exampleRadios" id="exampleRadios3" value="option3">
                                                <label class="form-check-label model2 " for="exampleRadios3">
                                                    Default Radio 3
                                                </label>
    
                                            </div>
                                           
                                            
                                        
    
                                        </div>
                                        <!-- <button type="submit">Submit</button> -->
                                    
                                    
                                </div>
                                <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">
                                    <div class="row  list-group-item list-group-item-action list-group-item-light">
                                                <input class="form-check-input model" type="radio" name="exampleRadios" id="exampleRadios11" value="CNN_Fas_64_decay1e-06_" checked>
                                                <label class="form-check-label model2" for="exampleRadios11">
                                                    Default Radio
                                                </label>
                                            </div>
                                            <div class="row  list-group-item list-group-item-action list-group-item-light">
                                                <input class="form-check-input model" type="radio" name="exampleRadios" id="exampleRadios22" value="ancoder_dense_0_epochs_3_neck_2_time_">
                                                <label class="form-check-label model2" for="exampleRadios22">
                                                    Default Radio 2
                                                </label>
                                            </div>
                                            
                                            <div class="row  list-group-item list-group-item-action list-group-item-light">
                                                <input class="form-check-input model " type="radio" name="exampleRadios" id="exampleRadios3" value="option3">
                                                <label class="form-check-label model2 " for="exampleRadios3">
                                                    Default Radio 3
                                                </label>
    
                                            </div>
                                </div>
                               
                              </div>
                        </div>
                        <div class="card-footer text-muted">
                            <button class="btn btn-primary data" id="subbut"  type="submit" >Submit</button>
                        </div>

                        
                   
                    </div>
                </div>

                <div class="col-md-6">
                    
                    <div class="row rowimg">
                        
                        <div class="card">
                            <div class="card-header">
                                    <button class="btn btn-primary changeimg" type="submit"    id='mainimgbut' >
                                        Change Image
                                    </button>   
                                    
                                    <!-- <button class="btn btn-primary changeimg" type="submit"         id='mainimgbut' >
                                        Add Noice
                                    </button>    -->

                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <img src="" id ='mainimg' height="300px" width="100%"  >
                                </div>
                            </div>
                            <div class="card-footer text-muted">
                                <div class="btn-group btn-group-toggle" data-toggle="buttons">
                                            
                                            <label class="btn btn-outline-dark active">
                                                <input type="radio" name="options" id="option1" value='digits' onclick="firstimg(this.id)" autocomplete="off" checked> Digits
                                            </label>
                                            <label class="btn btn-outline-dark">
                                                <input type="radio" name="options" id="option2" onclick="firstimg('fashion')" value = 'fashion' autocomplete="off"> Fashion
                                            </label>
                                          
                                        
                                        </div>
                            </div>
                        </div>
                                    

                    </div>

                   
                            
                   
                                

                </div>


                <div class="container-fluid " id="result_togle" >
                    <header>
                        
                        <h2 class="sect1"><strong>Results</strong></h2> 
                    </header>
                    <!-- <div class="row">
                        <img src="data:imge/png;base64, {{rep_img|safe}} " height="300px"  >
                    </div> -->

                    <div class="row">
                        <div class="col-md-6">
                            Lorem ipsum dolor sit amet consectetur adipisicing elit. Eligendi inventore quasi facilis nesciunt ut sapiente vitae nam quod officia! Aliquam quisquam molestiae labore blanditiis saepe nisi, est eum quia eius?
                            Lorem ipsum dolor sit, amet consectetur adipisicing elit. Sit optio voluptas laudantium hic harum. Cupiditate, dignissimos earum? Atque et ducimus, debitis facilis laudantium veniam vel quidem earum nobis repellat neque!
                            Lorem ipsum dolor, sit amet consectetur adipisicing elit. Corrupti commodi, quo itaque omnis, mollitia deleniti et sit odio nam iste incidunt? Sapiente, natus voluptatem? Quasi, iusto mollitia! Aut, eum natus.                           
                        </div>
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    Dimentional Representation
                                </div>
                                <div class="card-body">
                                    <img src="" id='refimg' height="300px" width="100%" >
                                </div>
                                <div class="card-footer text-muted">
                                    Footer
                                </div>
                            </div>
                            
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="card">
                                <div class="card-header">
                                    Originl
                                </div>
                                <div class="card-body">
                                    <img src="" id='mainimg2' height="300px" width="100%"  >
                                </div>
                                <div class="card-footer text-muted">
                                    Footer
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="card">
                                <div class="card-header">
                                    Neck
                                </div>
                                <div class="card-body">
                                    <img src="" id='botneck' height="300px" width="100%"  >
                                </div>
                                <div class="card-footer text-muted">
                                    Footer 
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="card">
                                <div class="card-header">
                                    Predicted
                                </div>
                                <div class="card-body">
                                    
                                    <img src="" id='predimg' height="300px" width="100%"  >
                                </div>
                                <div class="card-footer text-muted">
                                    Footer
                                </div>
                            </div>
                        </div>
                    </div>






                </div>


                
            </div>
            
            


        </div>




            </div>
            



    </div>



    <script>
        
        option = 'digit';
        async function firstimg(){
            // This function is for the the original Image
            //var imtype = $("input[name='options']:checked").attr("value");
            reset();
            console.log("Type:::::::::::",option);
            var obj = JSON.stringify({"opt":option,'noice':'False'});
            const data = await fetch('http://127.0.0.1:8000/api/img?opt='+obj);
            const d2 = await data.json();
            var val = d2['org'];
            //console.log('valllllll : ',val);
            val = JSON.parse(val);

            fir = 'data:image/png;base64,';
            str = fir.concat(val);
            document.getElementById('mainimg').setAttribute(
                'src',str
            );
            document.getElementById('mainimg2').setAttribute(
                'src',str
            );
      
        };

        $('#mainimgbut').click(function call(){
            firstimg();
        });
        
        $('#option1').change(function() {
            option = 'digit';
            firstimg();
        });
        $('#option2').change(function() {
            option = 'fashion';
            firstimg();
        }); 
        $(document).ready(function(){
            firstimg();
        })


        //refimg 

        async function otherimg(){
            // This function is for the the original Image
            console.log("MMMMMMMMMM");
            var name = $("input[name='exampleRadios']:checked").attr("value");
            var list = name.split("_");
            var len = list.length;
            var size = list[len-3];
            console.log("{{{{{_____---> ",list,size);


            //name = 'ancoder_dense_0_epochs_3_neck_2_time_';
            obj = JSON.stringify({"name":name,"size":size,'page':'digit'});
            var string = 'http://127.0.0.1:8000/api/?name='+obj;
            console.log("string  : ",string);
            var data = await fetch(string);
            var d2 = await data.json();
            console.log("d2 : ",d2);
            var val = d2['rep_img'];
            var orgimg = d2['img'];
            var botneck = d2['bot'];
            
            orgimg = JSON.parse(orgimg);
            val = JSON.parse(val);
            botneck = JSON.parse(botneck);


            fir = 'data:image/png;base64,';
            str = fir.concat(val);
            str2 = fir.concat(orgimg);
            str3 = fir.concat(botneck);

            document.getElementById('refimg').setAttribute(
                'src',str
            );

            document.getElementById('predimg').setAttribute(
                'src',str2
            );

            document.getElementById('botneck').setAttribute(
                'src',str3
            );
           
      
        };

        $('#subbut').click(function call(){
            otherimg();
            document.getElementById('result_togle').style.display='block';
        });


        function reset() {
            document.getElementById('result_togle').style.display='none';
        }

       

        
    </script>


  </body>
</html>